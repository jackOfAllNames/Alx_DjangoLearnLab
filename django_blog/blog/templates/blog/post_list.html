{% extends "blog/_base.html" %} {% block content %}

<h2>All Posts</h2>
<form method="get" action="{% url 'posts' %}">
  <input
    type="text"
    name="q"
    placeholder="Search posts..."
    value="{{ request.GET.q }}"
  />
  <button type="submit">Search</button>
</form>
{% for post in posts %}
<h3><a href="{% url 'post_detail' post.pk %}">{{ post.title }}</a></h3>
<p><strong>Author:</strong> {{ post.author }}</p>
<p>
  <strong>Published:</strong> {{ post.published_date|date:"F j, Y, g:i a" }}
</p>
<p>{{ post.content }}</p>
<p>
  <strong>Tags:</strong>
  {% for tag in post.tags.all %}
  <span>{{ tag.name }}</span>{% if not forloop.last %}, {% endif %} {% empty %}
  No tags {% endfor %}
</p>
{% if user.is_authenticated %} {% if user == post.author %}
<a href="{% url 'post_update' post.pk %}">Edit</a> |
<a href="{% url 'post_delete' post.pk %}">Delete</a>
{% endif %} {% endif %} {% endfor %} {% if user.is_authenticated %}
<a href="{% url 'post_create' %}">Create New Post</a>
{% endif %} {% endblock %}
